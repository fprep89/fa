name: laravel-fa
services:
- name: web
  source_dir: /
  github:
    repo: your-username/your-repo-name
    branch: main
  run_command: |
    php artisan config:cache && 
    php artisan route:cache && 
    php artisan view:cache && 
    /usr/bin/supervisord -c /etc/supervisor/conf.d/supervisord.conf
  environment_slug: php
  instance_count: 1
  instance_size_slug: basic-xxs
  http_port: 80
  dockerfile_path: Dockerfile
  envs:
  - key: APP_NAME
    value: "First Aca"
  - key: APP_ENV
    value: production
  - key: APP_KEY
    value: base64:YOUR_APP_KEY_HERE
  - key: APP_DEBUG
    value: "false"
  - key: APP_URL
    value: https://your-app-name.ondigitalocean.app
  - key: LOG_CHANNEL
    value: stack
  - key: DB_CONNECTION
    value: mysql
  - key: DB_HOST
    value: ${laravel-db.HOSTNAME}
  - key: DB_PORT
    value: ${laravel-db.PORT}
  - key: DB_DATABASE
    value: ${laravel-db.DATABASE}
  - key: DB_USERNAME
    value: ${laravel-db.USERNAME}
  - key: DB_PASSWORD
    value: ${laravel-db.PASSWORD}
  - key: CACHE_DRIVER
    value: file
  - key: SESSION_DRIVER
    value: file
  - key: QUEUE_CONNECTION
    value: sync
  - key: AWS_ACCESS_KEY_ID
    value: YOUR_AWS_ACCESS_KEY_ID
  - key: AWS_SECRET_ACCESS_KEY
    value: YOUR_AWS_SECRET_ACCESS_KEY
  - key: AWS_DEFAULT_REGION
    value: ap-south-1
  - key: AWS_BUCKET
    value: firstacademy
  - key: DO_SPACES_KEY
    value: YOUR_DO_SPACES_KEY
  - key: DO_SPACES_SECRET
    value: YOUR_DO_SPACES_SECRET
  - key: DO_SPACES_ENDPOINT
    value: https://sgp1.digitaloceanspaces.com
  - key: DO_SPACES_REGION
    value: sgp1
  - key: DO_SPACES_BUCKET
    value: pfxp

databases:
- name: laravel-db
  engine: MYSQL
  version: "8"
  production: false
  cluster_name: laravel-db-cluster